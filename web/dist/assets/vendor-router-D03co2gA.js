import{r as e,R as t}from"./vendor-react-CfCdiEH_.js";import{i as r,A as a,p as n,a as o,r as l,b as i,j as u,m as s,c,d as p}from"./vendor-ByYHSpNA.js";function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}const h=e.createContext(null),m=e.createContext(null),v=e.createContext(null),f=e.createContext(null),g=e.createContext({outlet:null,matches:[],isDataRoute:!1}),y=e.createContext(null);function C(){return null!=e.useContext(f)}function E(){return C()||r(!1),e.useContext(f).location}function x(t){e.useContext(v).static||e.useLayoutEffect(t)}function b(){let{isDataRoute:t}=e.useContext(g);return t?function(){let{router:t}=function(){let t=e.useContext(h);return t||r(!1),t}(F.UseNavigateStable),a=N(D.UseNavigateStable),n=e.useRef(!1);return x((()=>{n.current=!0})),e.useCallback((function(e,r){void 0===r&&(r={}),n.current&&("number"==typeof e?t.navigate(e):t.navigate(e,d({fromRouteId:a},r)))}),[t,a])}():function(){C()||r(!1);let t=e.useContext(h),{basename:a,future:n,navigator:o}=e.useContext(v),{matches:s}=e.useContext(g),{pathname:c}=E(),p=JSON.stringify(i(s,n.v7_relativeSplatPath)),d=e.useRef(!1);return x((()=>{d.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!d.current)return;if("number"==typeof e)return void o.go(e);let n=l(e,JSON.parse(p),c,"path"===r.relative);null==t&&"/"!==a&&(n.pathname="/"===n.pathname?a:u([a,n.pathname])),(r.replace?o.replace:o.push)(n,r.state,r)}),[a,o,p,c,t])}()}function R(t,o){return function(t,o,l,i){C()||r(!1);let{navigator:c}=e.useContext(v),{matches:p}=e.useContext(g),h=p[p.length-1],m=h?h.params:{};!h||h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let x,b=E();if(o){var R;let e="string"==typeof o?n(o):o;"/"===y||(null==(R=e.pathname)?void 0:R.startsWith(y))||r(!1),x=e}else x=b;let S=x.pathname||"/",F=S;if("/"!==y){let e=y.replace(/^\//,"").split("/");F="/"+S.replace(/^\//,"").split("/").slice(e.length).join("/")}let D=s(t,{pathname:F}),N=function(t,a,n,o){var l;void 0===a&&(a=[]);void 0===n&&(n=null);void 0===o&&(o=null);if(null==t){var i;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(i=o)&&i.v7_partialHydration&&0===a.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let u=t,s=null==(l=n)?void 0:l.errors;if(null!=s){let e=u.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||r(!1),u=u.slice(0,Math.min(u.length,e+1))}let c=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let e=0;e<u.length;e++){let t=u[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(p=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){c=!0,u=p>=0?u.slice(0,p+1):[u[0]];break}}}return u.reduceRight(((t,r,o)=>{let l,i=!1,d=null,h=null;var m;n&&(l=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||U,c&&(p<0&&0===o?(P[m="route-fallback"]||(P[m]=!0),i=!0,h=null):p===o&&(i=!0,h=r.route.hydrateFallbackElement||null)));let v=a.concat(u.slice(0,o+1)),f=()=>{let a;return a=l?d:i?h:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(B,{match:r,routeContext:{outlet:t,matches:v,isDataRoute:null!=n},children:a})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?e.createElement(k,{location:n.location,revalidation:n.revalidation,component:d,error:l,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()}),null)}(D&&D.map((e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:u([y,c.encodeLocation?c.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?y:u([y,c.encodeLocation?c.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),p,l,i);if(o&&N)return e.createElement(f.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:a.Pop}},N);return N}(t,o)}function S(){let t=function(){var t;let a=e.useContext(y),n=function(){let t=e.useContext(m);return t||r(!1),t}(),o=N();if(void 0!==a)return a;return null==(t=n.errors)?void 0:t[o]}(),a=c(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},a),n?e.createElement("pre",{style:o},n):null,null)}const U=e.createElement(S,null);class k extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?e.createElement(g.Provider,{value:this.props.routeContext},e.createElement(y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B(t){let{routeContext:r,match:a,children:n}=t,o=e.useContext(h);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),e.createElement(g.Provider,{value:r},n)}var F=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(F||{}),D=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D||{});function N(t){let a=function(){let t=e.useContext(g);return t||r(!1),t}(),n=a.matches[a.matches.length-1];return n.route.id||r(!1),n.route.id}const P={};function O(t){let{to:a,replace:n,state:o,relative:u}=t;C()||r(!1);let{future:s,static:c}=e.useContext(v),{matches:p}=e.useContext(g),{pathname:d}=E(),h=b(),m=l(a,i(p,s.v7_relativeSplatPath),d,"path"===u),f=JSON.stringify(m);return e.useEffect((()=>h(JSON.parse(f),{replace:n,state:o,relative:u})),[h,f,u,n,o]),null}function j(e){r(!1)}function w(t){let{basename:l="/",children:i=null,location:u,navigationType:s=a.Pop,navigator:c,static:p=!1,future:h}=t;C()&&r(!1);let m=l.replace(/^\/*/,"/"),g=e.useMemo((()=>({basename:m,navigator:c,static:p,future:d({v7_relativeSplatPath:!1},h)})),[m,h,c,p]);"string"==typeof u&&(u=n(u));let{pathname:y="/",search:E="",hash:x="",state:b=null,key:R="default"}=u,S=e.useMemo((()=>{let e=o(y,m);return null==e?null:{location:{pathname:e,search:E,hash:x,state:b,key:R},navigationType:s}}),[m,y,E,x,b,R,s]);return null==S?null:e.createElement(v.Provider,{value:g},e.createElement(f.Provider,{children:i,value:S}))}function L(e){let{children:t,location:r}=e;return R(T(t),r)}function T(t,a){void 0===a&&(a=[]);let n=[];return e.Children.forEach(t,((t,o)=>{if(!e.isValidElement(t))return;let l=[...a,o];if(t.type===e.Fragment)return void n.push.apply(n,T(t.props.children,l));t.type!==j&&r(!1),t.props.index&&t.props.children&&r(!1);let i={id:t.props.id||l.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=T(t.props.children,l)),n.push(i)})),n}new Promise((()=>{}));try{window.__reactRouterVersion="6"}catch(V){}const _=t.startTransition;function I(t){let{basename:r,children:a,future:n,window:o}=t,l=e.useRef();null==l.current&&(l.current=p({window:o,v5Compat:!0}));let i=l.current,[u,s]=e.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},d=e.useCallback((e=>{c&&_?_((()=>s(e))):s(e)}),[s,c]);return e.useLayoutEffect((()=>i.listen(d)),[i,d]),e.createElement(w,{basename:r,children:a,location:u.location,navigationType:u.action,navigator:i,future:n})}var J,M,z,A;(M=J||(J={})).UseScrollRestoration="useScrollRestoration",M.UseSubmit="useSubmit",M.UseSubmitFetcher="useSubmitFetcher",M.UseFetcher="useFetcher",M.useViewTransitionState="useViewTransitionState",(A=z||(z={})).UseFetcher="useFetcher",A.UseFetchers="useFetchers",A.UseScrollRestoration="useScrollRestoration";export{I as B,O as N,L as R,j as a,b,E as u};
